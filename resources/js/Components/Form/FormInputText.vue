<template>
	<input
		class="block w-full dark:bg-[#232B53] border px-3 py-2 transition duration-100 ease-in-out rounded-lg shadow-sm focus:ring-2 focus:outline-none focus:ring-opacity-50 disabled:opacity-50 disabled:cursor-not-allowed h-12"
		:class="
			(classes,
			{
				'text-slate-700 placeholder-gray-400 border-gray-300 focus:ring-indigo-600 focus:border-indigo-600 dark:border-none dark:text-slate-100 dark:placeholder-gray-600':
					!variant.length,
				'text-emerald-700 placeholder-emerald-400 border-emerald-300 focus:ring-emerald-600 focus:border-emerald-600 border-2':
					variant === 'success',
				'text-rose-700 placeholder-rose-400 border-rose-300 focus:ring-rose-600 focus:border-rose-600':
					variant === 'danger',
					'appearance-none': type === 'number'
			})
		"
		@input="(e) => $emit('update:modelValue', e.target.value)"
		@change="(e) => $emit('change:modelValue', e.target.value)"
		:value="modelValue"
		:id="id"
		:name="name"
		:type="type"
		:step="step"
		:max="max"
		:min="min"
		:maxlength="maxlength"
		:minlength="minlength"
		:placeholder="placeholder"
		:disabled="disabled"
		:readonly="readonly"
		:required="required"
		:autocomplete="autocomplete"
	/>
</template>

<script setup>
const props = defineProps({
	autocomplete: { type: String, default: "on" }, // on|off
	autofocus: Boolean,
	classes: { type: String, default: "" },
	disabled: Boolean,
	id: { type: String, default: "" },
	label: { type: String, default: "" },
	step: [String, Number],
	max: [String, Number],
	maxlength: [String, Number],
	min: [String, Number],
	minlength: [String, Number],
	modelValue: String,
	name: { type: String, default: "" },
	placeholder: { type: String, default: "" },
	readonly: Boolean,
	required: Boolean,
	type: String,
	variant: {
		type: String,
		default: "",
		validator(value) {
			// The value must match one of these strings
			return ["", "success", "danger"].includes(value);
		},
	},
});
</script>
